Talk("干你媽，再看炸你全家", 115, 0);
runsql('update item set 仅修炼人物=-1 where 物品类型=2');
--exit()
--print(getrole(0, "生命"))
--setrole(0, "生命", 995)
--setrole(0, "名字", "闪避")

math.randomseed(os.time());
local n = getitemcountinbag(182);
k=0;
if (n>=2) then
k=math.modf(n-1);
end
newtalk("你已勝"..k.."場。",115,0);
array={7,48,52,143,0,1,180,2,25,27,41,53,70,150,162,173,219,234,235,265,61,62,64,65,10,14,21,43,58,60,69,79,96,136,138,146,182,210,212,233,3,18,23,29,39,40,44,49,87,139,155,158,221,255,99,4,8,11,12,16,30,31,32,34,35,36,42,45,55,71,73,85,86,88,97,102,137,140,144,147,152,153,156,196,197,200,206,237,243,256,257,258,259,261,262,5,19,46,50,51,78,103,209,223,224,63,38,104,24,26,28,33,37,82,105,132,151,174,106,66,9,17,57,89,91,94,98,107,135,141,142,159,161,164,165,166,167,168,169,170,211,263,264,108,47,54,84,101,109,220,229,110,95,111,217,218,68,72,74,76,80,81,92,93,112,113,145,149,163,193,230,231,232,245,246,247,248,249,250,251,252,253,254,114,115,100,184,83,116,117,6,13,20,59,118,154,171,172,190,191,194,195,213,214,215,216,222,225,226,227,228,236,238,239,240,241,242,244,260,119,120,77,121,122,90,123,148,198,199,202,203,266,124,125,126,127,22,128,157,160,177,178,129,130,131,185,204,208,15,56,67,133,134,179,181,183,189,201,207,176,186,187,188,75,175,205,192}
local k = n + math.random(0, 10);
if k < 1 then
    k = 1;
end
if k>#array then
    k = #array - 10 + math.random(0, 10);
end
if (trybattle(array[k], 0)) then
    local m = math.random(0,213)
    while getitem(m,"物品类型")==0 do
        m = math.random(0,213)
    end
    Talk("居然不怕我炸你，你很有勇氣，給你一點獎品", 115, 0);
    additem(m,1)
    additem(174, k);
    additemwithouthint(182, 1);
    additemwithouthint(209, math.random(0, 5));
    additemwithouthint(210, math.random(0, 5));
else
            --additemwithouthint(199, 1);
        end
        autosave()

exit();
